<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>wxO embed example - secure</title>
  <script>
    /**
     * This is the function that is called when a new user id is needed.
     */
    function getUserId() {
      let embed_user_id = sessionStorage.embed_user_id;
      if (!embed_user_id) {
        embed_user_id = Math.trunc(Math.random() * 1000000);
        sessionStorage.embed_user_id = embed_user_id;
      }
      return embed_user_id;
    }

    /**
     * This is the function that is called when a new identity token is needed.
     */
    async function getIdentityToken() {
      // In a real environment, this will make a call to your server to request a new JWT.
      const result = await fetch(
        "http://localhost:5555/createJWT?user_id=" + getUserId()
      );
      window.wxOConfiguration.token = await result.text();
    }

    window.wxOConfiguration = {
      orchestrationID: "20251008-0324-2787-503a-4b204bc082c7_20251008-0325-1651-0050-70e6c1c3fde6",
      hostURL: "https://eu-central-1.dl.watson-orchestrate.ibm.com",
      rootElementID: "root",
      chatOptions: {
        agentId: "6d8fd737-d6e5-437a-be4d-96ef82747f22",
        agentEnvironmentId: "9d60b103-da28-4f77-ac8e-d4794a17ba34",
      }
    };

    getIdentityToken().then(() => {
      const script = document.createElement("script");
      script.src = `${window.wxOConfiguration.hostURL}/wxochat/wxoLoader.js?embed=true`;
      script.addEventListener("load", function () {
        wxoLoader.init();
      });
      document.head.appendChild(script);
    });
  </script>
</head>

<body>
  <div id="root"></div>

  <header>
    <h1>Welcome to My Company</h1>
  </header>

  <nav>
    <a href="#">Home</a>
    <a href="#">Services</a>
    <a href="#">About</a>
    <a href="#">Contact</a>
  </nav>

  <section>
    <h2>About Us</h2>
    <p>
      We are a leading company in providing professional solutions for your
      business needs. Our team of experts is dedicated to delivering top-notch
      services to help your business thrive in the competitive market.
    </p>
  </section>

  <section>
    <div class="container">
      <div class="box">
        <h3>Our Services</h3>
        <p>
          We offer a wide range of services to cater to your business
          requirements, including consulting, project management, and
          technical support.
        </p>
      </div>
      <div class="box">
        <h3>Why Choose Us?</h3>
        <p>
          Our commitment to excellence, customer-centric approach, and
          innovative solutions set us apart from the competition. Trust us to
          deliver results that exceed your expectations.
        </p>
      </div>
      <div class="box">
        <h3>Contact Us</h3>
        <p>
          Get in touch with us today to learn more about how we can assist you
          in achieving your business goals. We are here to help you every step
          of the way.
        </p>
      </div>
    </div>
  </section>
</body>

<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  header {
    background-color: #4caf50;
    color: white;
    padding: 1rem 0;
    text-align: center;
  }

  nav {
    display: flex;
    justify-content: center;
    background-color: #333;
  }

  nav a {
    color: white;
    padding: 14px 20px;
    text-decoration: none;
    text-align: center;
  }

  nav a:hover {
    background-color: #ddd;
    color: black;
  }

  section {
    padding: 2rem;
  }

  .container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
  }

  .box {
    flex: 1 1 300px;
    margin: 1rem;
    padding: 1rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    background-color: #f9f9f9;
  }

  .box h3 {
    color: #4caf50;
  }

  footer {
    background-color: #333;
    color: white;
    text-align: center;
    padding: 1rem 0;
    position: relative;
    bottom: 0;
    width: 100%;
  }

  @media (max-width: 768px) {
    nav {
      flex-direction: column;
    }
  }
</style>

</html>